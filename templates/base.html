<!DOCTYPE html>
{% load static %}
<html lang="ar" dir="rtl">

<head>
    <title>{% block title %}{% endblock title %}</title>
    {% include 'snippets/head.html' %}
    {% block extra_static_urls %}{% endblock extra_static_urls %}
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet" />
</head>

<body>
    <div id="all">
        {% include 'snippets/header.html' %}
        
        <div id="header">
            <div id="particles"></div>
            {% block top_content %}
            
            {% endblock top_content %}
            <div class="header-content mt-5">
                <div class="container">
                    <div class="row">
                        {% block header__card__content %}{% endblock header__card__content %} 
                    </div>
                    {% block bottom_content %}
                    {% endblock bottom_content %}
                </div>
            </div>
            <div class="header-image">
                <img src="{% static '' %}new/images/q.png" style="float: right; opacity: 0.0699;" alt="logo">
            </div>
        </div>
        {% block main_content %}
        {% endblock main_content %}
        <div class="chatbot">
            <button class="chatbot-toggle" aria-label="Open chatbot"><i class="fa fa-comments"></i></button>
            <div class="chatbot-window" aria-hidden="true">
              <div class="chatbot-header">
                <h4>Islamic Bot</h4>
                <button class="chatbot-close" aria-label="Close chatbot">×</button>
              </div>
              <div class="chatbot-content">
                <ul class="chatbot-messages">
                    <style>
                        ul.chatbot-message li{
                            margin: 10px 0;
                        }
                    </style>
                </ul>
                
                <form class="chatbot-form" style="border-top: 2px solid #000;padding-top: 10px;">
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                          <button class="btn btn-dark bg-dark" type="submit" aria-label="Send message"><i class="fa fa-send" aria-hidden="true"></i></button>
                        </div>
                        <input type="text" class="form-control" placeholder="أسأل عن اي شئ ؟"  style="background-color: transparent;color:#fff;">
                    </div>
                </form>
              </div>
            </div>
          </div>
          
          
        <style>
            .chatbot {
                position: fixed;
                bottom: 20px;
                right: 20px;
                z-index: 9999;
              }
              
              .chatbot-toggle {
                background-color: #1d1e1f;
                color: #fff;
                border: none;
                border-radius: 50%;
                width: 60px;
                height: 60px;
                margin: 20px;
                font-size: 1.5rem;
                cursor: pointer;
                -webkit-box-shadow: -1.5px -0.5px 32px -6.5px #ffffff;
                -moz-box-shadow: -1.5px -0.5px 32px -6.5px #ffffff;
                box-shadow: -1.5px -0.5px 32px -6.5px #ffffff;
              }
              
              .chatbot-window {
                position: absolute;
                bottom: 100%;
                right: 0;
                width: 300px;
                height: 500px;
                border: 2px solid rgba(0, 0, 0, 0.2);
                border-radius: 5px;
                box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
                background-color: #000;
                opacity: 0;
                visibility: hidden;
                transform: translateY(100%);
                transition: all 0.3s ease;
                -webkit-box-shadow: -2px -1px 16.5px -1.5px #ffffff;
                -moz-box-shadow: -2px -1px 16.5px -1.5px #ffffff;
                box-shadow: -2px -1px 16.5px -1.5px #ffffff;
              }
              
              .chatbot-window.active {
                opacity: 1;
                visibility: visible;
                transform: translateY(0);
              }
              
              .chatbot-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 10px;
                background-color: #1d1e1f;
                color: #fff;
              }
              
              .chatbot-close {
                background-color: transparent;
                color: #fff;
                border: none;
                font-size: 1.5rem;
                cursor: pointer;
              }
              
              .chatbot-content {
                height: calc(100% - 50px);
                display: flex;
                flex-direction: column;
                justify-content: flex-end;
                padding: 10px;
              }
              
              .chatbot-messages {
                list-style: none;
                margin: 0;
                padding: 0;
                overflow-y: auto;
                flex: 1;
              }
              
              .chatbot-message {
                
                border-radius: 5px;
                background-color: #f2f2f2;
              }
              
              .chatbot-message-bot {
                text-align: right;
                margin: 10px 0;
              }
              
              .chatbot-message-person {
                text-align: right;
              }
              
              .chatbot-form {
                
                margin-top: 10px;
              }
              
              .chatbot-form input[type="text"] {
                flex: 1;
                padding: 5px;
                border-radius: 5px;
                border: 1px solid #ccc;
              }
              
              .chatbot-form button {
                background-color: #007bff;
                color: #fff;
                border:none;
                border-radius: 5px;
                padding: 5px 10px;
                margin-left: 10px;
                cursor: pointer;
                }
              
        </style>
        <script>
            const chatbotToggle = document.querySelector('.chatbot-toggle');
            const chatbotWindow = document.querySelector('.chatbot-window');
            const chatbotClose = document.querySelector('.chatbot-close');
            const chatbotMessages = document.querySelector('.chatbot-messages');
            const chatbotForm = document.querySelector('.chatbot-form');
            
            chatbotToggle.addEventListener('click', () => {
            chatbotWindow.classList.toggle('active');
            chatbotToggle.setAttribute('aria-expanded', chatbotWindow.classList.contains('active'));
            chatbotWindow.setAttribute('aria-hidden', !chatbotWindow.classList.contains('active'));
            });
            
            chatbotClose.addEventListener('click', () => {
            chatbotWindow.classList.remove('active');
            chatbotToggle.setAttribute('aria-expanded', false);
            chatbotWindow.setAttribute('aria-hidden', true);
            });
            
            chatbotForm.addEventListener('submit', (event) => {
            event.preventDefault();
            const input = chatbotForm.querySelector('input[type="text"]');
            const message = input.value.trim();
            if (message !== '') {
            const chatbotMessage = document.createElement('li');
            chatbotMessage.classList.add('chatbot-message');
            chatbotMessage.classList.add('chatbot-message-person');
            chatbotMessage.textContent = message;
            chatbotMessages.appendChild(chatbotMessage);
            input.value = '';
            input.focus();
            setTimeout(() => {
            const chatbotMessage = document.createElement('li');
            chatbotMessage.classList.add('chatbot-message');
            chatbotMessage.classList.add('chatbot-message-bot');
            chatbotMessage.textContent = '﴿ الله لا إله إلا هو الحي القيوم لا تأخذه سنة ولا نوم له ما في السماوات وما في الأرض من ذا الذي يشفع عنده إلا بإذنه يعلم ما بين أيديهم وما خلفهم ولا يحيطون بشيء من علمه إلا بما شاء وسع كرسيه السماوات والأرض ولا يئوده حفظهما وهو العلي العظيم ﴾ [ البقرة: 255]';
            chatbotMessages.appendChild(chatbotMessage);
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
            }, 1000);
            }
            });
        </script>
          
    </div>
    <!--
        some pages in snippets/dummy.html
    -->
    {% include 'snippets/scripts.html' %}
</body>

</html>